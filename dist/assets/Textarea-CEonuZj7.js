import{c as d,a as k,U as z}from"./Input-CP177Za2.js";import{u as M,a as A,j as e}from"./index-OnltiLdh.js";import{u as C,b as j}from"./vendor-react-BhxjzHy9.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=d("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=d("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=d("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=d("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=d("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=d("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);function V({currentStep:o=0,onStepClick:r,canAccessStep:x,developerMode:h=!1,onDeveloperModeChange:c}){const l=C(),{t:u,language:s,setLanguage:w}=M(),{isAuthenticated:g,user:t,logout:v}=A(),[y,n]=j.useState(!1),N=()=>{v(),n(!1),l("/")},i=t?t.storyQuota===-1?null:t.storyQuota-t.storiesGenerated:null,p=t==null?void 0:t.storyQuota,b=(t==null?void 0:t.storyQuota)===-1;return e.jsx("nav",{className:"bg-black text-white px-3 py-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("button",{onClick:()=>l("/"),className:"text-sm md:text-base font-bold whitespace-nowrap hover:opacity-80",children:["âœ¨ ",u.title]})}),o>0&&r&&x&&e.jsx("div",{className:"flex items-center gap-0.5 md:gap-1 flex-1 justify-center",children:[1,2,3,4,5].map(a=>{const m=x(a);return e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>m&&r(a),disabled:!m,className:`w-5 h-5 md:w-6 md:h-6 rounded-full flex items-center justify-center text-[10px] md:text-xs font-bold transition-all ${m?o===a?"bg-indigo-600 text-white ring-1 ring-indigo-200":"bg-indigo-500 text-white hover:bg-indigo-600 cursor-pointer hover:scale-110":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:a}),a<5&&e.jsx("div",{className:`w-3 md:w-6 h-0.5 ${m?"bg-indigo-500":"bg-gray-600"}`})]},a)})}),o===0&&g&&t&&!b&&i!==null&&e.jsxs("div",{className:`px-3 py-1 rounded text-xs font-semibold ${i===0?"bg-red-600 text-white":i===1?"bg-yellow-600 text-white":"bg-green-600 text-white"}`,children:[i," / ",p," stories"]}),g&&(t==null?void 0:t.role)==="admin"&&c&&e.jsxs("button",{onClick:()=>c(!h),className:`px-2 py-1 rounded text-xs font-semibold flex items-center gap-1 transition-colors ${h?"bg-yellow-500 text-black":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,title:s==="de"?"Entwicklermodus":s==="fr"?"Mode dÃ©veloppeur":"Developer Mode",children:[e.jsx(L,{size:14}),e.jsx("span",{className:"hidden md:inline",children:"DEV"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>n(!y),className:"bg-gray-800 text-white px-3 py-1.5 rounded text-xs font-semibold hover:bg-gray-700 flex items-center gap-2",children:[e.jsx($,{size:16}),e.jsx("span",{className:"hidden md:inline",children:"Menu"})]}),y&&e.jsxs("div",{className:"absolute right-0 mt-2 bg-gray-800 rounded-lg shadow-lg overflow-hidden z-50 min-w-[200px]",children:[g&&t&&e.jsxs("div",{className:"border-b border-gray-700 px-4 py-3 bg-gray-900",children:[e.jsxs("div",{className:"text-white font-semibold text-sm mb-1",children:[t.username," ",t.role==="admin"&&"ðŸ‘‘"]}),!b&&i!==null&&e.jsxs("div",{className:`text-xs px-2 py-1 rounded inline-block ${i===0?"bg-red-600 text-white":i===1?"bg-yellow-600 text-white":"bg-green-600 text-white"}`,children:[i," / ",p," ",s==="de"?"Geschichten":s==="fr"?"histoires":"stories"]})]}),e.jsxs("div",{className:"border-b border-gray-700 px-4 py-2",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-2",children:s==="de"?"Sprache":s==="fr"?"Langue":"Language"}),e.jsx("div",{className:"flex gap-2",children:["en","de","fr"].map(a=>e.jsx("button",{onClick:()=>{w(a),n(!1)},className:`flex-1 px-3 py-2 rounded text-xs font-semibold ${s===a?"bg-indigo-600 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:a.toUpperCase()},a))})]}),g&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{l("/stories"),n(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2 border-b border-gray-700",children:[e.jsx(k,{size:16}),e.jsx("span",{children:s==="de"?"Meine Geschichten":s==="fr"?"Mes histoires":"My Stories"})]}),(t==null?void 0:t.role)==="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{l("/admin"),n(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2 border-b border-gray-700",children:[e.jsx(S,{size:16}),e.jsx("span",{children:s==="de"?"Admin Panel":s==="fr"?"Panneau Admin":"Admin Panel"})]}),e.jsxs("button",{onClick:()=>{l("/admin?tab=users"),n(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2 border-b border-gray-700",children:[e.jsx(z,{size:16}),e.jsx("span",{children:s==="de"?"Benutzer verwalten":s==="fr"?"GÃ©rer les utilisateurs":"Manage Users"})]})]}),e.jsxs("button",{onClick:N,className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2",children:[e.jsx(f,{size:16}),e.jsx("span",{children:u.logout})]})]}),!g&&e.jsxs("button",{onClick:()=>{l("/?login=true"),n(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2",children:[e.jsx(f,{size:16}),e.jsx("span",{children:u.login})]})]})]})]})})}const U=j.forwardRef(({label:o,error:r,helperText:x,className:h="",...c},l)=>e.jsxs("div",{className:"w-full",children:[o&&e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o,c.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("textarea",{ref:l,className:`
            w-full px-4 py-2 rounded-lg border resize-y
            transition-all duration-200
            focus:outline-none focus:ring-2
            ${r?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-purple-500 focus:border-purple-500"}
            disabled:bg-gray-100 disabled:cursor-not-allowed
            ${h}
          `,...c}),r&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r}),x&&!r&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:x})]}));U.displayName="Textarea";export{Q as A,V as N,R as S};
