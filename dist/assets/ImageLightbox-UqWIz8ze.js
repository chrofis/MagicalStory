import{c as g,j as o,X as Z}from"./index-DhgOGsP4.js";import{b as t}from"./vendor-react-CqfXSjHo.js";import{b as I}from"./Modal-lYejeXwQ.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=g("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=g("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function P({src:c,alt:p,onClose:a}){const[l,i]=t.useState(1),[s,b]=t.useState({x:0,y:0}),[r,m]=t.useState(!1),[x,j]=t.useState({x:0,y:0}),k=t.useRef(null),h=.5,y=5,u=.2,n=t.useCallback(()=>{i(1),b({x:0,y:0})},[]),d=t.useCallback(e=>{e.key==="Escape"&&a()},[a]);t.useEffect(()=>(c&&(n(),document.addEventListener("keydown",d),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",d),document.body.style.overflow="unset"}),[c,d,n]);const v=t.useCallback(e=>{e.preventDefault();const N=e.deltaY>0?-u:u;i(S=>Math.min(y,Math.max(h,S+N)))},[]),w=t.useCallback(e=>{l>1&&(e.preventDefault(),m(!0),j({x:e.clientX-s.x,y:e.clientY-s.y}))},[l,s]),C=t.useCallback(e=>{r&&l>1&&b({x:e.clientX-x.x,y:e.clientY-x.y})},[r,x,l]),f=t.useCallback(()=>{m(!1)},[]),M=t.useCallback(e=>{e.stopPropagation(),n()},[n]),z=t.useCallback(e=>{e.target===k.current&&l===1&&a()},[a,l]),E=t.useCallback(()=>{i(e=>Math.min(y,e+u*2))},[]),D=t.useCallback(()=>{i(e=>Math.max(h,e-u*2))},[]);return c?o.jsxs("div",{ref:k,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm",onClick:z,onMouseMove:C,onMouseUp:f,onMouseLeave:f,children:[o.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2 z-10",children:[o.jsx("button",{onClick:D,className:"p-2 rounded-full bg-black/50 hover:bg-black/70 text-white transition-colors","aria-label":"Zoom out",title:"Zoom out",children:o.jsx(R,{size:20})}),o.jsxs("span",{className:"px-2 py-1 rounded bg-black/50 text-white text-sm min-w-[60px] text-center",children:[Math.round(l*100),"%"]}),o.jsx("button",{onClick:E,className:"p-2 rounded-full bg-black/50 hover:bg-black/70 text-white transition-colors","aria-label":"Zoom in",title:"Zoom in",children:o.jsx(L,{size:20})}),o.jsx("button",{onClick:n,className:"p-2 rounded-full bg-black/50 hover:bg-black/70 text-white transition-colors","aria-label":"Reset zoom",title:"Reset zoom (or double-click)",children:o.jsx(I,{size:20})}),o.jsx("button",{onClick:a,className:"p-2 rounded-full bg-black/50 hover:bg-black/70 text-white transition-colors ml-2","aria-label":"Close",title:"Close (Esc)",children:o.jsx(Z,{size:24})})]}),o.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 px-3 py-1.5 rounded-full bg-black/50 text-white/70 text-xs z-10",children:"Scroll to zoom • Drag to pan • Double-click to reset"}),o.jsx("div",{className:"w-full h-full flex items-center justify-center overflow-hidden",onWheel:v,children:o.jsx("img",{src:c,alt:p||"Enlarged image",className:"max-w-[98vw] max-h-[96vh] object-contain rounded-lg shadow-2xl select-none",style:{transform:`translate(${s.x}px, ${s.y}px) scale(${l})`,cursor:l>1?r?"grabbing":"grab":"default",transition:r?"none":"transform 0.1s ease-out"},onMouseDown:w,onDoubleClick:M,draggable:!1})})]}):null}export{P as I};
