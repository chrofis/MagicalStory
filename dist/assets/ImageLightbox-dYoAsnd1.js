import{c as b,j as a,X as Z}from"./index-BfVCF4gw.js";import{b as t}from"./vendor-react-CqfXSjHo.js";import{R as I}from"./rotate-ccw-DChIpKDH.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=b("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=b("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=b("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function Y({src:c,alt:p,onClose:l}){const[o,i]=t.useState(1),[s,m]=t.useState({x:0,y:0}),[r,k]=t.useState(!1),[d,v]=t.useState({x:0,y:0}),h=t.useRef(null),y=.5,f=5,u=.2,n=t.useCallback(()=>{i(1),m({x:0,y:0})},[]),x=t.useCallback(e=>{e.key==="Escape"&&l()},[l]);t.useEffect(()=>(c&&(n(),document.addEventListener("keydown",x),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",x),document.body.style.overflow="unset"}),[c,x,n]);const j=t.useCallback(e=>{e.preventDefault();const D=e.deltaY>0?-u:u;i(N=>Math.min(f,Math.max(y,N+D)))},[]),M=t.useCallback(e=>{o>1&&(e.preventDefault(),k(!0),v({x:e.clientX-s.x,y:e.clientY-s.y}))},[o,s]),w=t.useCallback(e=>{r&&o>1&&m({x:e.clientX-d.x,y:e.clientY-d.y})},[r,d,o]),g=t.useCallback(()=>{k(!1)},[]),C=t.useCallback(e=>{e.stopPropagation(),n()},[n]),S=t.useCallback(e=>{e.target===h.current&&o===1&&l()},[l,o]),z=t.useCallback(()=>{i(e=>Math.min(f,e+u*2))},[]),E=t.useCallback(()=>{i(e=>Math.max(y,e-u*2))},[]);return c?a.jsxs("div",{ref:h,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm",onClick:S,onMouseMove:w,onMouseUp:g,onMouseLeave:g,children:[a.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2 z-10",children:[a.jsx("button",{onClick:E,className:"p-2 rounded-full bg-black/50 hover:bg-black/70 text-white transition-colors","aria-label":"Zoom out",title:"Zoom out",children:a.jsx(R,{size:20})}),a.jsxs("span",{className:"px-2 py-1 rounded bg-black/50 text-white text-sm min-w-[60px] text-center",children:[Math.round(o*100),"%"]}),a.jsx("button",{onClick:z,className:"p-2 rounded-full bg-black/50 hover:bg-black/70 text-white transition-colors","aria-label":"Zoom in",title:"Zoom in",children:a.jsx(L,{size:20})}),a.jsx("button",{onClick:n,className:"p-2 rounded-full bg-black/50 hover:bg-black/70 text-white transition-colors","aria-label":"Reset zoom",title:"Reset zoom (or double-click)",children:a.jsx(I,{size:20})}),a.jsx("button",{onClick:l,className:"p-2 rounded-full bg-black/50 hover:bg-black/70 text-white transition-colors ml-2","aria-label":"Close",title:"Close (Esc)",children:a.jsx(Z,{size:24})})]}),a.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 px-3 py-1.5 rounded-full bg-black/50 text-white/70 text-xs z-10",children:"Scroll to zoom • Drag to pan • Double-click to reset"}),a.jsx("div",{className:"w-full h-full flex items-center justify-center overflow-hidden",onWheel:j,children:a.jsx("img",{src:c,alt:p||"Enlarged image",className:"max-w-[98vw] max-h-[96vh] object-contain rounded-lg shadow-2xl select-none",style:{transform:`translate(${s.x}px, ${s.y}px) scale(${o})`,cursor:o>1?r?"grabbing":"grab":"default",transition:r?"none":"transform 0.1s ease-out"},onMouseDown:M,onDoubleClick:C,draggable:!1})})]}):null}export{Y as I,P as S};
