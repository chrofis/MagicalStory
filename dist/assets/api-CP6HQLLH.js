import{c as d}from"./index-CTv96fJz.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=d("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),h="";class f{getToken(){return localStorage.getItem("auth_token")}getHeaders(t=!1){const e={"Content-Type":"application/json"};if(!t){const r=this.getToken();r&&(e.Authorization=`Bearer ${r}`)}return e}async request(t,e={}){const{skipAuth:r=!1,...a}=e,o=await fetch(`${h}${t}`,{...a,headers:{...this.getHeaders(r),...a.headers}});if(!o.ok){const s=await o.json().catch(()=>({error:"Request failed"}));let i=s.error||s.message||`HTTP ${o.status}`;if(s.details){const c=s.details;c.message?i+=`: ${c.message}`:c.error?i+=`: ${c.error}`:typeof c=="string"&&(i+=`: ${c}`)}throw new Error(i)}const n=await o.text();return n?JSON.parse(n):{}}async get(t,e){return this.request(t,{...e,method:"GET"})}async post(t,e,r){return this.request(t,{...r,method:"POST",body:e?JSON.stringify(e):void 0})}async put(t,e,r){return this.request(t,{...r,method:"PUT",body:e?JSON.stringify(e):void 0})}async patch(t,e,r){return this.request(t,{...r,method:"PATCH",body:e?JSON.stringify(e):void 0})}async delete(t,e){return this.request(t,{...e,method:"DELETE"})}async uploadFile(t,e,r){const a=new FormData;a.append("file",e),r&&Object.entries(r).forEach(([s,i])=>{a.append(s,i)});const o=this.getToken(),n=await fetch(`${h}${t}`,{method:"POST",headers:o?{Authorization:`Bearer ${o}`}:{},body:a});if(!n.ok){const s=await n.json().catch(()=>({error:"Upload failed"}));throw new Error(s.error||"Upload failed")}return n.json()}}const l=new f;export{y as T,l as a};
