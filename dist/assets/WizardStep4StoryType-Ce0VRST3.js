import{u as te,j as e}from"./index-BMzYhxVQ.js";import{b as f}from"./vendor-react-CqfXSjHo.js";import{s as u,d as R,e as S,l as ae,h as re,j as ce,k as oe,m as me,n as xe,o as w,p as Y,q as J,t as Q,v as V}from"./StoryWizard-DXdINMNl.js";import{S as g}from"./sparkles-CkMbecO8.js";import{C as N}from"./Modal-DQ17XCNJ.js";import{C as v}from"./download-D3s3YuS7.js";import"./vendor-firebase-DTVMaYMy.js";import"./Input-xpjw6AmH.js";import"./Textarea-BitY6JfM.js";import"./book-open-Dxu8ztuF.js";import"./circle-x-D63HGlJ1.js";import"./clock-SQddEn1T.js";import"./chevron-right-BaF0Dq7x.js";import"./palette-ClrXQ90i.js";import"./book-CYPuNiLg.js";import"./check-B_pczEd8.js";import"./shopping-cart-BkmrTWki.js";import"./arrow-left-DylG-uWA.js";import"./arrow-right-CftUmWxz.js";function he({storyCategory:d,storyTopic:r,storyTheme:c,customThemeText:k="",onCategoryChange:x,onTopicChange:p,onThemeChange:m,onCustomThemeTextChange:b,onLegacyStoryTypeChange:h}){var U,q,y,L,O,W,M,Z,K;const{language:X}=te(),t=X,[T,A]=f.useState([]),[_,B]=f.useState([]),[I,H]=f.useState([]),[C,P]=f.useState([]),D={en:{storyType:"Story Type",theme:"Theme",topic:"Topic",setting:"Setting",optionalTheme:"Optional: Add an adventure theme",optionalThemeDesc:"Make it a pirate, wizard, or other adventure story",noTheme:"No theme (realistic)",selectedCategory:"Story type",selectedTopic:"Topic",selectedTheme:"Theme",change:"Change",customThemePlaceholder:`Describe your story idea in detail...

For example:
- A story about learning to ride a bike
- An adventure in the Swiss mountains
- Meeting a friendly dragon who helps with homework`,customThemeLabel:"Your custom theme:"},de:{storyType:"Geschichte",theme:"Thema",topic:"Thema",setting:"Setting",optionalTheme:"Optional: Abenteuer-Thema hinzufügen",optionalThemeDesc:"Als Piraten-, Zauberer- oder andere Abenteuergeschichte",noTheme:"Kein Thema (realistisch)",selectedCategory:"Geschichtsart",selectedTopic:"Thema",selectedTheme:"Setting",change:"Ändern",customThemePlaceholder:`Beschreibe deine Geschichte hier...

Zum Beispiel:
- Eine Geschichte über das Fahrradfahren lernen
- Ein Abenteuer in den Schweizer Bergen
- Ein freundlicher Drache, der bei den Hausaufgaben hilft`,customThemeLabel:"Dein eigenes Thema:"},fr:{storyType:"Histoire",theme:"Thème",topic:"Sujet",setting:"Cadre",optionalTheme:"Optionnel: Ajouter un thème d'aventure",optionalThemeDesc:"En faire une histoire de pirate, sorcier, etc.",noTheme:"Pas de thème (réaliste)",selectedCategory:"Type d'histoire",selectedTopic:"Sujet",selectedTheme:"Thème",change:"Changer",customThemePlaceholder:`Décris ton idée d'histoire ici...

Par exemple:
- Une histoire sur l'apprentissage du vélo
- Une aventure dans les montagnes suisses
- Un dragon amical qui aide aux devoirs`,customThemeLabel:"Ton thème personnalisé:"}},a=D[t]||D.en,$=s=>{A(i=>i.includes(s)?i.filter(l=>l!==s):[...i,s])},ee=s=>{B(i=>i.includes(s)?i.filter(l=>l!==s):[...i,s])},se=s=>{H(i=>i.includes(s)?i.filter(l=>l!==s):[...i,s])},ie=s=>{P(i=>i.includes(s)?i.filter(l=>l!==s):[...i,s])};f.useEffect(()=>{d==="adventure"?A(["popular"]):d==="life-challenge"?B(["popular"]):d==="educational"?H(["popular"]):d==="historical"&&P(["popular"])},[d]);const ne=s=>{x(s),p(""),s==="adventure"?m(""):s==="custom"?(m("custom"),h("custom")):m("realistic")},de=s=>{m(s),h(s)},E=s=>{p(s),h(c==="realistic"?s:c)},G=s=>{m(s),h(s==="realistic"?r||"adventure":s)},j=s=>{const i=u.find(l=>l.id===s);return i?i.name[t]||i.name.en:s},le=s=>{if(s==="realistic")return w.name[t]||w.name.en;const i=V.find(l=>l.id===s);return i?i.name[t]||i.name.en:s},F=s=>{const i=Y.find(o=>o.id===s);if(i)return i.name[t]||i.name.en;const l=J.find(o=>o.id===s);if(l)return l.name[t]||l.name.en;const n=Q.find(o=>o.id===s);return n?n.name[t]||n.name.en:s};if(!d)return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(g,{className:"text-indigo-600",size:24}),a.storyType]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4",children:u.map(s=>e.jsxs("button",{onClick:()=>ne(s.id),className:`p-3 md:p-6 rounded-xl border-2 transition-all ${s.id==="custom"?"border-dashed border-purple-300 hover:border-purple-500 hover:bg-purple-50":"border-gray-200 hover:border-indigo-400 hover:bg-indigo-50"}`,children:[e.jsxs("div",{className:"flex md:hidden items-center gap-3",children:[e.jsx("div",{className:"text-3xl flex-shrink-0",children:s.emoji}),e.jsx("div",{className:`flex-1 text-center font-bold text-lg ${s.id==="custom"?"text-purple-700":"text-gray-800"}`,children:s.name[t]||s.name.en})]}),e.jsxs("div",{className:"hidden md:block text-left",children:[e.jsx("div",{className:"text-4xl mb-3",children:s.emoji}),e.jsx("div",{className:`font-bold text-lg ${s.id==="custom"?"text-purple-700":"text-gray-800"}`,children:s.name[t]||s.name.en}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:s.description[t]||s.description.en})]})]},s.id))})]});if(d==="adventure"&&!c)return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsxs("span",{className:"bg-indigo-100 text-indigo-700 px-2 py-1 rounded",children:[(U=u.find(s=>s.id===d))==null?void 0:U.emoji," ",j(d)]}),e.jsx("button",{onClick:()=>x(""),className:"text-indigo-600 hover:underline",children:a.change})]}),e.jsxs("h2",{className:"text-3xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(g,{className:"text-indigo-600",size:24}),a.theme]}),e.jsx("div",{className:"space-y-3",children:R.filter(s=>s.id!=="custom").map(s=>{const i=S(s.id),l=T.includes(s.id);return e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>$(s.id),className:"w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 transition-colors",children:[e.jsxs("span",{className:"font-semibold text-gray-700 flex items-center gap-2",children:[s.id==="popular"&&e.jsx("span",{children:"⭐"}),s.name[t]||s.name.en]}),l?e.jsx(N,{size:20}):e.jsx(v,{size:20})]}),l&&e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 p-3",children:i.map(n=>e.jsxs("button",{onClick:()=>de(n.id),className:"p-2 rounded-lg border border-gray-200 hover:border-indigo-400 hover:bg-indigo-50 transition-all text-center",children:[e.jsx("div",{className:"text-2xl mb-1",children:n.emoji}),e.jsx("div",{className:"font-semibold text-xs",children:n.name[t]||n.name.en})]},n.id))})]},s.id)})})]});if(d==="life-challenge"&&!r)return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsxs("span",{className:"bg-indigo-100 text-indigo-700 px-2 py-1 rounded",children:[(q=u.find(s=>s.id===d))==null?void 0:q.emoji," ",j(d)]}),e.jsx("button",{onClick:()=>x(""),className:"text-indigo-600 hover:underline",children:a.change})]}),e.jsxs("h2",{className:"text-3xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(g,{className:"text-indigo-600",size:24}),a.topic]}),e.jsx("div",{className:"space-y-3",children:ae.map(s=>{const i=re(s.id),l=_.includes(s.id);return e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>ee(s.id),className:"w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 transition-colors",children:[e.jsxs("span",{className:"font-semibold text-gray-700 flex items-center gap-2",children:[s.id==="popular"&&e.jsx("span",{children:"⭐"}),s.name[t]||s.name.en]}),l?e.jsx(N,{size:20}):e.jsx(v,{size:20})]}),l&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 p-3",children:i.map(n=>e.jsxs("button",{onClick:()=>E(n.id),className:"p-2 rounded-lg border border-gray-200 hover:border-indigo-400 hover:bg-indigo-50 transition-all text-left",children:[e.jsx("span",{className:"text-xl mr-2",children:n.emoji}),e.jsx("span",{className:"text-sm font-medium",children:n.name[t]||n.name.en})]},n.id))})]},s.id)})})]});if(d==="educational"&&!r)return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsxs("span",{className:"bg-indigo-100 text-indigo-700 px-2 py-1 rounded",children:[(y=u.find(s=>s.id===d))==null?void 0:y.emoji," ",j(d)]}),e.jsx("button",{onClick:()=>x(""),className:"text-indigo-600 hover:underline",children:a.change})]}),e.jsxs("h2",{className:"text-3xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(g,{className:"text-indigo-600",size:24}),a.topic]}),e.jsx("div",{className:"space-y-3",children:ce.map(s=>{const i=oe(s.id),l=I.includes(s.id);return e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>se(s.id),className:"w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 transition-colors",children:[e.jsxs("span",{className:"font-semibold text-gray-700 flex items-center gap-2",children:[s.id==="popular"&&e.jsx("span",{children:"⭐"}),s.name[t]||s.name.en]}),l?e.jsx(N,{size:20}):e.jsx(v,{size:20})]}),l&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 p-3",children:i.map(n=>e.jsxs("button",{onClick:()=>E(n.id),className:"p-2 rounded-lg border border-gray-200 hover:border-indigo-400 hover:bg-indigo-50 transition-all text-left",children:[e.jsx("span",{className:"text-xl mr-2",children:n.emoji}),e.jsx("span",{className:"text-sm font-medium",children:n.name[t]||n.name.en})]},n.id))})]},s.id)})})]});if(d==="historical"&&!r)return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsxs("span",{className:"bg-indigo-100 text-indigo-700 px-2 py-1 rounded",children:[(L=u.find(s=>s.id===d))==null?void 0:L.emoji," ",j(d)]}),e.jsx("button",{onClick:()=>x(""),className:"text-indigo-600 hover:underline",children:a.change})]}),e.jsxs("h2",{className:"text-3xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(g,{className:"text-indigo-600",size:24}),t==="de"?"Historisches Ereignis":t==="fr"?"Événement Historique":"Historical Event"]}),e.jsx("div",{className:"space-y-3",children:me.map(s=>{const i=xe(s.id),l=C.includes(s.id);return e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>ie(s.id),className:"w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 transition-colors",children:[e.jsxs("span",{className:"font-semibold text-gray-700 flex items-center gap-2",children:[s.id==="swiss"?e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 32 32",className:"rounded-sm",children:[e.jsx("rect",{width:"32",height:"32",fill:"#FF0000"}),e.jsx("rect",{x:"13",y:"6",width:"6",height:"20",fill:"white"}),e.jsx("rect",{x:"6",y:"13",width:"20",height:"6",fill:"white"})]}):e.jsx("span",{children:s.icon}),s.name[t]||s.name.en]}),l?e.jsx(N,{size:20}):e.jsx(v,{size:20})]}),l&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 p-3",children:i.map(n=>e.jsx("button",{onClick:()=>E(n.id),className:"p-3 rounded-lg border border-gray-200 hover:border-indigo-400 hover:bg-indigo-50 transition-all text-left",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-xl",children:n.emoji}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium truncate",children:n.shortName[t]||n.shortName.en}),e.jsxs("div",{className:"text-xs text-gray-500",children:[typeof n.year=="string"&&n.year.startsWith("-")?`${n.year.slice(1)} BC`:n.year,n.mainPerson&&` • ${n.mainPerson}`]})]})]})},n.id))})]},s.id)})})]});if((d==="life-challenge"||d==="educational")&&r&&c==="realistic"){const s=S("popular");return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-gray-600",children:[e.jsxs("span",{className:"bg-indigo-100 text-indigo-700 px-2 py-1 rounded",children:[(O=u.find(i=>i.id===d))==null?void 0:O.emoji," ",j(d)]}),e.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded",children:F(r)}),e.jsx("button",{onClick:()=>p(""),className:"text-indigo-600 hover:underline",children:a.change})]}),e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-1",children:a.optionalTheme}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:a.optionalThemeDesc}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-6 gap-2 mb-4",children:[e.jsxs("button",{onClick:()=>G("realistic"),className:`p-2 rounded-lg border-2 transition-all ${c==="realistic"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[e.jsx("div",{className:"text-2xl mb-1",children:w.emoji}),e.jsx("div",{className:"font-semibold text-xs",children:a.noTheme})]}),s.map(i=>e.jsxs("button",{onClick:()=>G(i.id),className:`p-2 rounded-lg border-2 transition-all ${c===i.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-indigo-300"}`,children:[e.jsx("div",{className:"text-2xl mb-1",children:i.emoji}),e.jsx("div",{className:"font-semibold text-xs",children:i.name[t]||i.name.en})]},i.id))]}),e.jsx("div",{className:"space-y-2 border-t border-amber-200 pt-3",children:R.filter(i=>i.id!=="popular"&&i.id!=="custom").map(i=>{const l=S(i.id),n=T.includes(i.id);return e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white",children:[e.jsxs("button",{onClick:()=>$(i.id),className:"w-full flex items-center justify-between p-2 bg-gray-50 hover:bg-gray-100 transition-colors",children:[e.jsx("span",{className:"font-medium text-sm text-gray-700",children:i.name[t]||i.name.en}),n?e.jsx(N,{size:16}):e.jsx(v,{size:16})]}),n&&e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 p-2",children:l.map(o=>e.jsxs("button",{onClick:()=>G(o.id),className:`p-2 rounded-lg border-2 transition-all text-center ${c===o.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-indigo-300"}`,children:[e.jsx("div",{className:"text-xl mb-1",children:o.emoji}),e.jsx("div",{className:"font-semibold text-xs",children:o.name[t]||o.name.en})]},o.id))})]},i.id)})})]})]})}const z=u.find(s=>s.id===d);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(g,{className:"text-indigo-600",size:24}),a.storyType]}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200 rounded-xl p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:z==null?void 0:z.emoji}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:a.selectedCategory}),e.jsx("div",{className:"font-semibold",children:j(d)})]})]}),e.jsx("button",{onClick:()=>x(""),className:"text-indigo-600 hover:underline text-sm",children:a.change})]}),r&&e.jsxs("div",{className:"flex items-center justify-between border-t border-indigo-100 pt-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:((W=Y.find(s=>s.id===r))==null?void 0:W.emoji)||((M=J.find(s=>s.id===r))==null?void 0:M.emoji)||((Z=Q.find(s=>s.id===r))==null?void 0:Z.emoji)}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:a.selectedTopic}),e.jsx("div",{className:"font-semibold",children:F(r)})]})]}),e.jsx("button",{onClick:()=>p(""),className:"text-indigo-600 hover:underline text-sm",children:a.change})]}),d!=="historical"&&d!=="custom"&&e.jsxs("div",{className:"flex items-center justify-between border-t border-indigo-100 pt-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:c==="realistic"?w.emoji:(K=V.find(s=>s.id===c))==null?void 0:K.emoji}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:a.selectedTheme}),e.jsx("div",{className:"font-semibold",children:le(c)})]})]}),e.jsx("button",{onClick:()=>{m(d==="adventure"?"":"realistic")},className:"text-indigo-600 hover:underline text-sm",children:a.change})]}),c==="custom"&&e.jsx("div",{className:"pt-3",children:e.jsx("textarea",{value:k,onChange:s=>b==null?void 0:b(s.target.value),placeholder:a.customThemePlaceholder,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-base resize-none",rows:6})})]})]})}function De({storyCategory:d,storyTopic:r,storyTheme:c,customThemeText:k,onCategoryChange:x,onTopicChange:p,onThemeChange:m,onCustomThemeTextChange:b,onLegacyStoryTypeChange:h}){return e.jsx("div",{className:"space-y-6",children:e.jsx(he,{storyCategory:d,storyTopic:r,storyTheme:c,customThemeText:k,onCategoryChange:x,onTopicChange:p,onThemeChange:m,onCustomThemeTextChange:b,onLegacyStoryTypeChange:h})})}export{De as WizardStep4StoryType};
