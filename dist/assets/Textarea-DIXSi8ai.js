import{c as j,h as D,T as q,C as E,I as Z,j as e,X as $,u as P,a as M,e as H,L as F,s as K,i as J}from"./index-CZpA_kRy.js";import{b as m,u as V}from"./vendor-react-CqfXSjHo.js";import{B as A,I as S,C as G,U as W}from"./Input-ov4OTNSv.js";import{S as O}from"./sparkles-CJwyOicF.js";import{B as X}from"./book-open-DVIpWe2U.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=j("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=j("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=j("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=j("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=j("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=j("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=j("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),te={info:{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:Z},success:{bg:"bg-green-50 border-green-200",text:"text-green-800",icon:E},warning:{bg:"bg-yellow-50 border-yellow-200",text:"text-yellow-800",icon:q},error:{bg:"bg-red-50 border-red-200",text:"text-red-800",icon:D}};function re({children:l,variant:c="info",title:r,onClose:x,className:a=""}){const s=te[c],u=s.icon;return e.jsxs("div",{className:`
        flex gap-3 p-4 rounded-lg border
        ${s.bg} ${s.text}
        ${a}
      `,role:"alert",children:[e.jsx(u,{className:"shrink-0 mt-0.5",size:20}),e.jsxs("div",{className:"flex-1",children:[r&&e.jsx("p",{className:"font-semibold mb-1",children:r}),e.jsx("div",{className:"text-sm",children:l})]}),x&&e.jsx("button",{onClick:x,className:"shrink-0 p-1 rounded hover:bg-black/10 transition-colors","aria-label":"Dismiss",children:e.jsx($,{size:16})})]})}const B={en:{title:"Change Password",description:"Enter your current password and choose a new one.",currentPassword:"Current password",newPassword:"New password",confirmPassword:"Confirm new password",changePassword:"Change Password",passwordsMatch:"Passwords must match",passwordTooShort:"Password must be at least 6 characters",success:"Password changed successfully!",successDesc:"Your password has been updated.",close:"Close"},de:{title:"Passwort √§ndern",description:"Geben Sie Ihr aktuelles Passwort ein und w√§hlen Sie ein neues.",currentPassword:"Aktuelles Passwort",newPassword:"Neues Passwort",confirmPassword:"Neues Passwort best√§tigen",changePassword:"Passwort √§ndern",passwordsMatch:"Passw√∂rter m√ºssen √ºbereinstimmen",passwordTooShort:"Passwort muss mindestens 6 Zeichen lang sein",success:"Passwort erfolgreich ge√§ndert!",successDesc:"Ihr Passwort wurde aktualisiert.",close:"Schliessen"},fr:{title:"Changer le mot de passe",description:"Entrez votre mot de passe actuel et choisissez-en un nouveau.",currentPassword:"Mot de passe actuel",newPassword:"Nouveau mot de passe",confirmPassword:"Confirmer le nouveau mot de passe",changePassword:"Changer le mot de passe",passwordsMatch:"Les mots de passe doivent correspondre",passwordTooShort:"Le mot de passe doit contenir au moins 6 caracteres",success:"Mot de passe change avec succes!",successDesc:"Votre mot de passe a ete mis a jour.",close:"Fermer"}};function ae({isOpen:l,onClose:c}){const{language:r}=P(),{changePassword:x}=M(),a=B[r]||B.en,[s,u]=m.useState(""),[n,i]=m.useState(""),[f,w]=m.useState(""),[t,g]=m.useState(!1),[y,o]=m.useState(""),[d,h]=m.useState(!1);if(!l)return null;const C=async b=>{if(b.preventDefault(),o(""),n.length<6){o(a.passwordTooShort);return}if(n!==f){o(a.passwordsMatch);return}g(!0);try{await x(s,n),h(!0)}catch(k){o(k instanceof Error?k.message:"Failed to change password")}finally{g(!1)}},v=()=>{u(""),i(""),w(""),o(""),h(!1),c()};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-8 animate-fade-in relative",children:[e.jsx("button",{onClick:v,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Close",children:e.jsx($,{size:20})}),d?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(E,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:a.success}),e.jsx("p",{className:"text-gray-500 mb-6",children:a.successDesc}),e.jsx(A,{onClick:v,variant:"primary",className:"w-full",children:a.close})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(T,{className:"w-8 h-8 text-indigo-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:a.title}),e.jsx("p",{className:"text-gray-500",children:a.description})]}),y&&e.jsx(re,{variant:"error",className:"mb-4",children:y}),e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsx(S,{type:"password",label:a.currentPassword,value:s,onChange:b=>u(b.target.value),placeholder:"********",required:!0,disabled:t}),e.jsx(S,{type:"password",label:a.newPassword,value:n,onChange:b=>i(b.target.value),placeholder:"********",required:!0,disabled:t}),e.jsx(S,{type:"password",label:a.confirmPassword,value:f,onChange:b=>w(b.target.value),placeholder:"********",required:!0,disabled:t}),e.jsx(A,{type:"submit",variant:"primary",loading:t,className:"w-full",children:a.changePassword})]})]})]})})}function ne({isOpen:l,onClose:c}){const{language:r}=P(),{showError:x}=H(),[a,s]=m.useState(!1);if(!l)return null;const u=async()=>{s(!0);try{const{url:i}=await K.createCreditsCheckout(100,500);i&&(window.location.href=i)}catch(i){console.error("Failed to create checkout:",i),x(r==="de"?"Fehler beim Erstellen der Zahlung. Bitte versuchen Sie es erneut.":r==="fr"?"Erreur lors de la cr√©ation du paiement. Veuillez r√©essayer.":"Failed to create payment. Please try again."),s(!1)}},n={title:r==="de"?"Credits kaufen":r==="fr"?"Acheter des credits":"Buy Credits",credits:r==="de"?"Credits":"credits",description:r==="de"?"100 Credits reichen fuer etwa 3-4 Geschichten":r==="fr"?"100 credits suffisent pour environ 3-4 histoires":"100 credits are enough for about 3-4 stories",securePayment:r==="de"?"Sichere Zahlung mit Stripe":r==="fr"?"Paiement securise avec Stripe":"Secure payment with Stripe",cancel:r==="de"?"Abbrechen":r==="fr"?"Annuler":"Cancel",buyNow:r==="de"?"Jetzt kaufen":r==="fr"?"Acheter maintenant":"Buy Now",loading:r==="de"?"Wird geladen...":r==="fr"?"Chargement...":"Loading..."};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>!a&&c(),children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4 shadow-xl",onClick:i=>i.stopPropagation(),children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:n.title}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-6 mb-6 border-2 border-indigo-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"text-indigo-600",size:24}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"100"}),e.jsx("span",{className:"text-gray-600",children:n.credits})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"text-3xl font-bold text-indigo-600",children:"CHF 5.-"})})]}),e.jsx("p",{className:"text-sm text-gray-500",children:n.description})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-4 text-center",children:n.securePayment}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:c,disabled:a,className:"flex-1 bg-gray-200 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-300 font-semibold disabled:opacity-50",children:n.cancel}),e.jsx("button",{onClick:u,disabled:a,className:"flex-1 bg-indigo-600 text-white py-3 px-4 rounded-lg hover:bg-indigo-700 font-semibold disabled:opacity-50 flex items-center justify-center gap-2",children:a?e.jsxs(e.Fragment,{children:[e.jsx(F,{size:18,className:"animate-spin"}),n.loading]}):n.buyNow})]})]})})}function ie({onClose:l,onShowCreditsModal:c,onShowChangePasswordModal:r}){const x=V(),{t:a,language:s,setLanguage:u}=P(),{isAuthenticated:n,user:i,logout:f,isImpersonating:w}=M(),t=(i==null?void 0:i.credits)??0,g=(i==null?void 0:i.credits)===-1||w,y=()=>{f(),l(),x("/")},o=h=>{x(h),l()},d={language:s==="de"?"Sprache":s==="fr"?"Langue":"Language",credits:s==="de"?"Credits":s==="fr"?"cr√©dits":"credits",createNewStory:s==="de"?"Neue Geschichte":s==="fr"?"Nouvelle histoire":"Create New Story",myStories:s==="de"?"Meine Geschichten":s==="fr"?"Mes histoires":"My Stories",myOrders:s==="de"?"Meine Bestellungen":s==="fr"?"Mes commandes":"My Orders",buyCredits:s==="de"?"Credits kaufen":s==="fr"?"Acheter des cr√©dits":"Buy Credits",adminPanel:s==="de"?"Admin Panel":s==="fr"?"Panneau Admin":"Admin Panel",manageUsers:s==="de"?"Benutzer verwalten":s==="fr"?"G√©rer les utilisateurs":"Manage Users",changePassword:s==="de"?"Passwort √§ndern":s==="fr"?"Changer le mot de passe":"Change Password",legal:s==="de"?"Rechtliches":s==="fr"?"Mentions l√©gales":"Legal",terms:s==="de"?"AGB":s==="fr"?"CGU":"Terms",privacy:s==="de"?"Datenschutz":s==="fr"?"Confidentialit√©":"Privacy"};return e.jsxs("div",{className:"absolute right-0 mt-2 bg-gray-800 rounded-lg shadow-lg overflow-hidden z-50 min-w-[200px]",children:[n&&i&&e.jsxs("div",{className:"border-b border-gray-700 px-4 py-3 bg-gray-900",children:[e.jsxs("div",{className:"text-white font-semibold text-sm mb-1",children:[i.username," ",i.role==="admin"&&"üëë"]}),e.jsxs("div",{className:`text-xs px-2 py-1 rounded inline-block ${g?"bg-purple-600 text-white":t===0?"bg-red-600 text-white":t<50?"bg-yellow-600 text-white":"bg-green-600 text-white"}`,children:[g?"‚àû":t," ",d.credits]})]}),e.jsxs("div",{className:"border-b border-gray-700 px-4 py-2",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-2",children:d.language}),e.jsx("div",{className:"flex gap-2",children:["en","de","fr"].map(h=>e.jsx("button",{onClick:()=>{u(h),l()},className:`flex-1 px-3 py-2 rounded text-xs font-semibold ${s===h?"bg-indigo-600 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:h.toUpperCase()},h))})]}),n&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>o("/create?new=true"),className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2 border-b border-gray-700",children:[e.jsx(O,{size:16}),e.jsx("span",{children:d.createNewStory})]}),e.jsxs("button",{onClick:()=>o("/stories"),className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2 border-b border-gray-700",children:[e.jsx(X,{size:16}),e.jsx("span",{children:d.myStories})]}),e.jsxs("button",{onClick:()=>o("/orders"),className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2 border-b border-gray-700",children:[e.jsx(_,{size:16}),e.jsx("span",{children:d.myOrders})]}),e.jsxs("button",{onClick:()=>{c(),l()},className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2 border-b border-gray-700",children:[e.jsx(G,{size:16}),e.jsx("span",{children:d.buyCredits})]}),((i==null?void 0:i.role)==="admin"||w)&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>o("/admin"),className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2 border-b border-gray-700",children:[e.jsx(se,{size:16}),e.jsx("span",{children:d.adminPanel})]}),e.jsxs("button",{onClick:()=>o("/admin?tab=users"),className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2 border-b border-gray-700",children:[e.jsx(W,{size:16}),e.jsx("span",{children:d.manageUsers})]})]}),e.jsxs("button",{onClick:()=>{r(),l()},className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2 border-b border-gray-700",children:[e.jsx(T,{size:16}),e.jsx("span",{children:d.changePassword})]}),e.jsxs("button",{onClick:y,className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2",children:[e.jsx(L,{size:16}),e.jsx("span",{children:a.logout})]})]}),!n&&e.jsxs("button",{onClick:()=>o("/?login=true"),className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2 border-b border-gray-700",children:[e.jsx(L,{size:16}),e.jsx("span",{children:a.login})]}),e.jsxs("div",{className:"border-t border-gray-700 px-4 py-2",children:[e.jsxs("div",{className:"text-xs text-gray-400 mb-2 flex items-center gap-1",children:[e.jsx(ee,{size:12}),d.legal]}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[e.jsx("button",{onClick:()=>o("/terms"),className:"text-gray-400 hover:text-white",children:d.terms}),e.jsx("span",{className:"text-gray-600",children:"‚Ä¢"}),e.jsx("button",{onClick:()=>o("/privacy"),className:"text-gray-400 hover:text-white",children:d.privacy}),e.jsx("span",{className:"text-gray-600",children:"‚Ä¢"}),e.jsx("button",{onClick:()=>o("/impressum"),className:"text-gray-400 hover:text-white",children:"Impressum"})]})]})]})}const I={en:{1:"Characters",2:"Book",3:"Story",4:"Style",5:"Summary"},de:{1:"Figuren",2:"Buch",3:"Story",4:"Stil",5:"√úbersicht"},fr:{1:"Personnages",2:"Livre",3:"Histoire",4:"Style",5:"R√©sum√©"}};function he({currentStep:l=0,onStepClick:c,canAccessStep:r,developerMode:x=!1,onDeveloperModeChange:a}){const s=V(),{t:u,language:n}=P(),{isAuthenticated:i,user:f,isImpersonating:w}=M(),t=J(),[g,y]=m.useState(!1),[o,d]=m.useState(!1),[h,C]=m.useState(!1),v=m.useRef(null),b=()=>{t!=null&&t.completedStoryId&&(t.markCompletionViewed(),s(`/create?storyId=${t.completedStoryId}`))},k=()=>{s("/create")},U=(t==null?void 0:t.activeJob)&&!(t!=null&&t.isComplete)&&!(t!=null&&t.error);return m.useEffect(()=>{const p=N=>{v.current&&!v.current.contains(N.target)&&y(!1)};return g&&document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[g]),e.jsxs("nav",{className:"bg-black text-white px-3 py-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("button",{onClick:()=>s("/"),className:"text-sm md:text-base font-bold whitespace-nowrap hover:opacity-80",children:["‚ú® ",u.title]})}),l>0&&c&&r&&e.jsx("div",{className:"flex items-center flex-1 justify-center",children:[1,2,3,4,5].map(p=>{const N=r(p),z=l===p,R=I[n]||I.en;return e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("button",{onClick:()=>N&&c(p),disabled:!N,className:`w-5 h-5 md:w-7 md:h-7 rounded-full flex items-center justify-center text-[10px] md:text-xs font-bold transition-all ${N?z?"bg-indigo-500 text-white ring-2 ring-white scale-110 shadow-lg shadow-indigo-500/50":"bg-indigo-600 text-white hover:bg-indigo-500 cursor-pointer hover:scale-110":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:p}),e.jsx("span",{className:`hidden md:block text-[10px] mt-0.5 transition-all ${z?"text-white font-semibold":"text-gray-400"}`,children:R[p]})]}),p<5&&e.jsx("div",{className:`w-3 md:w-4 h-0.5 self-start mt-2.5 md:mt-3.5 mx-0.5 md:mx-1 ${N?"bg-indigo-500":"bg-gray-600"}`})]},p)})}),e.jsxs("div",{className:"flex items-center gap-3",children:[i&&((f==null?void 0:f.role)==="admin"||w)&&a&&e.jsxs("button",{onClick:()=>a(!x),className:`px-2 py-1 rounded text-xs font-semibold flex items-center gap-1 transition-colors ${x?"bg-yellow-500 text-black":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,title:n==="de"?"Entwicklermodus":n==="fr"?"Mode d√©veloppeur":"Developer Mode",children:[e.jsx(Y,{size:14}),e.jsx("span",{className:"hidden md:inline",children:"DEV"})]}),U&&e.jsxs("button",{onClick:k,className:"bg-indigo-600 text-white px-3 py-1.5 rounded text-xs font-semibold hover:bg-indigo-700 flex items-center gap-2",title:n==="de"?"Geschichte wird erstellt...":n==="fr"?"Cr√©ation en cours...":"Creating story...",children:[e.jsx(F,{size:14,className:"animate-spin"}),e.jsx("span",{className:"hidden md:inline",children:t!=null&&t.progress?`${Math.round(t.progress.current/t.progress.total*100)}%`:"..."})]}),(t==null?void 0:t.hasUnviewedCompletion)&&e.jsxs("button",{onClick:b,className:"bg-green-500 text-white px-3 py-1.5 rounded text-xs font-semibold hover:bg-green-600 flex items-center gap-2 animate-pulse",title:n==="de"?"Geschichte fertig!":n==="fr"?"Histoire termin√©e!":"Story ready!",children:[e.jsx(O,{size:14}),e.jsx("span",{className:"hidden md:inline",children:n==="de"?"Fertig!":n==="fr"?"Termin√©!":"Ready!"})]}),e.jsxs("div",{className:"relative",ref:v,children:[e.jsxs("button",{onClick:()=>y(!g),className:"bg-gray-800 text-white px-3 py-1.5 rounded text-xs font-semibold hover:bg-gray-700 flex items-center gap-2",children:[e.jsx(Q,{size:16}),e.jsx("span",{className:"hidden md:inline",children:"Menu"})]}),g&&e.jsx(ie,{onClose:()=>y(!1),onShowCreditsModal:()=>d(!0),onShowChangePasswordModal:()=>C(!0)})]})]})]}),e.jsx(ne,{isOpen:o,onClose:()=>d(!1)}),e.jsx(ae,{isOpen:h,onClose:()=>C(!1)})]})}const le=m.forwardRef(({label:l,error:c,helperText:r,className:x="",...a},s)=>e.jsxs("div",{className:"w-full",children:[l&&e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[l,a.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("textarea",{ref:s,className:`
            w-full px-4 py-2 rounded-lg border resize-y
            transition-all duration-200
            focus:outline-none focus:ring-2
            ${c?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-purple-500 focus:border-purple-500"}
            disabled:bg-gray-100 disabled:cursor-not-allowed
            ${x}
          `,...a}),c&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c}),r&&!c&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]}));le.displayName="Textarea";export{re as A,T as K,he as N,_ as P};
