import{c as de,u as ce,j as e,L as me}from"./index-Bb6Qvjee.js";import{b as E}from"./vendor-react-CqfXSjHo.js";import{o as W,v as ge,p as he,q as ue,t as xe}from"./StoryWizard-Ba5X2eFP.js";import{a as pe}from"./artStyles-DJIZ4CgP.js";import{P as d}from"./pencil-DctO48ER.js";import{C as A}from"./check-BN1w4wQb.js";import{S as fe}from"./sparkles-DvyCC0aH.js";import"./vendor-firebase-DTVMaYMy.js";import"./Input-DcS3MIO6.js";import"./Textarea-B9MZVpKz.js";import"./book-open-B1Td1VPy.js";import"./circle-x-CgWXOI1S.js";import"./clock-Btg_M0NO.js";import"./Modal-CWwIewxT.js";import"./download-DsD3TmI_.js";import"./chevron-right-yB39fDhq.js";import"./palette-BMTIyLjl.js";import"./book-BiCIReCh.js";import"./shopping-cart-BR3dxoEl.js";import"./arrow-left-etvxVOj5.js";import"./arrow-right-CAuolJBC.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=de("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),ye=[{code:"de-ch",name:"Deutsch (Schweiz)"},{code:"de-de",name:"Hochdeutsch"},{code:"de-de-north",name:"Norddeutsch"},{code:"de-de-south",name:"Süddeutsch"},{code:"de-at",name:"Deutsch (Österreich)"},{code:"de-it",name:"Deutsch (Südtirol)"},{code:"fr-ch",name:"Français (Suisse)"},{code:"fr-fr",name:"Français (France)"},{code:"fr-be",name:"Français (Belgique)"},{code:"fr-ca",name:"Français (Québec)"},{code:"fr-af",name:"Français (Afrique)"},{code:"it-ch",name:"Italiano (Svizzera)"},{code:"it-it",name:"Italiano (Standard)"},{code:"it-it-north",name:"Italiano (Nord)"},{code:"it-it-central",name:"Italiano (Toscana)"},{code:"it-it-south",name:"Italiano (Sud)"},{code:"it-sm",name:"Italiano (San Marino)"},{code:"en-gb",name:"English (British)"},{code:"en-us",name:"English (American)"},{code:"en-ca",name:"English (Canadian)"},{code:"en-au",name:"English (Australian)"},{code:"en-ie",name:"English (Irish)"},{code:"en-za",name:"English (South African)"},{code:"gsw-zh",name:"Züritüütsch"},{code:"gsw-be",name:"Bärndütsch"},{code:"gsw-bs",name:"Baseldytsch"},{code:"gsw-lu",name:"Luzärndütsch"},{code:"gsw-sg",name:"Sanggallerdütsch"},{code:"gsw-vs",name:"Walliserdütsch"},{code:"gsw-gr",name:"Bündnerdütsch"},{code:"en",name:"English (British)"},{code:"fr",name:"Français (Suisse)"},{code:"de",name:"Deutsch (Schweiz)"},{code:"it",name:"Italiano (Standard)"}];function We({characters:P,mainCharacters:D,excludedCharacters:R,storyCategory:u,storyTopic:x,storyTheme:g,customThemeText:h="",onCustomThemeTextChange:p,artStyle:I,storyLanguage:O,languageLevel:f,pages:V,userLocation:c,season:b,storyDetails:je,onStoryDetailsChange:ve,dedication:Y,onDedicationChange:J,onGenerateIdeas:K,isGeneratingIdeas:F,isGeneratingIdea1:_=!1,isGeneratingIdea2:Q=!1,ideaProgress1:y=0,ideaProgress2:j=0,ideaPrompt:v,ideaFullResponse:$,generatedIdeas:N,onSelectIdea:w,onUseDirectly:k,onEditStep:o,developerMode:H,imageGenMode:S,onImageGenModeChange:z,generationMode:U="auto",onGenerationModeChange:T}){const{language:t}=ce(),n=t,[L,C]=E.useState([]),[Z,B]=E.useState(null);E.useEffect(()=>{N.length>0?(C([...N]),B(null)):(C([]),B(null))},[N]);const X=s=>{B(s),w(L[s],s)},ee=()=>P.filter(s=>D.includes(s.id)).map(s=>s.name).join(", "),te=()=>P.filter(s=>!D.includes(s.id)&&!R.includes(s.id)).map(s=>s.name).join(", "),se=()=>{const s=he.find(i=>i.id===x);if(s)return s.name[n]||s.name.en;const r=ue.find(i=>i.id===x);if(r)return r.name[n]||r.name.en;const l=xe.find(i=>i.id===x);if(l){const i=l.shortName[n]||l.shortName.en;return l.mainPerson?`${i} ${l.mainPerson}`:i}return""},q=()=>{if(g==="realistic")return W.name[n]||W.name.en;const s=ge.find(r=>r.id===g);return s?s.name[n]||s.name.en:""},ae=()=>{const s=pe.find(r=>r.id===I);return s?s.name[n]||s.name.en:I},re=()=>{const s=ye.find(r=>r.code===O);return s?s.name:O},ie=()=>f==="1st-grade"?t==="de"?"Bilderbuch":t==="fr"?"Album Illustré":"Picture Book":f==="standard"?t==="de"?"Kinderbuch":t==="fr"?"Livre Enfant":"Chapter Book":f==="advanced"?t==="de"?"Jugendbuch":t==="fr"?"Roman Jeunesse":"Young Adult":"",ne=()=>{var r,l;const s={spring:{de:"Frühling",fr:"Printemps",en:"Spring"},summer:{de:"Sommer",fr:"Été",en:"Summer"},autumn:{de:"Herbst",fr:"Automne",en:"Autumn"},winter:{de:"Winter",fr:"Hiver",en:"Winter"}};return((r=s[b])==null?void 0:r[t])||((l=s[b])==null?void 0:l.en)||b},le=()=>c!=null&&c.city?c.country?`${c.city}, ${c.country}`:c.city:t==="de"?"Nicht festgelegt":t==="fr"?"Non défini":"Not set",a={title:t==="de"?"Geschichte erstellen":t==="fr"?"Créer l'histoire":"Create Your Story",storyDetails:t==="de"?"Geschichte / Handlung":t==="fr"?"Histoire / Intrigue":"Story / Plot",optional:t==="de"?"(optional)":t==="fr"?"(optionnel)":"(optional)",dedication:t==="de"?"Widmung":t==="fr"?"Dédicace":"Dedication",dedicationPlaceholder:t==="de"?'z.B. "Für meine liebe Tochter Emma zum 5. Geburtstag"':t==="fr"?'Par exemple "Pour ma chère fille Emma pour son 5ème anniversaire"':'e.g. "For my dear daughter Emma on her 5th birthday"',dedicationHelp:t==="de"?"Dieser Text wird auf der Einführungsseite deines Buches gedruckt.":t==="fr"?"Ce texte sera imprimé sur la page d'introduction de ton livre.":"This text will be printed on the initial page of your book.",generateIdeas:t==="de"?"Vorschlag generieren":t==="fr"?"Générer une suggestion":"Generate Suggestion",generating:t==="de"?"Generiere...":t==="fr"?"Génération...":"Generating...",storyType:t==="de"?"Geschichte":t==="fr"?"Histoire":"Story",artStyleLabel:t==="de"?"Kunststil":t==="fr"?"Style":"Art Style",languageLabel:t==="de"?"Sprachvariante":t==="fr"?"Variante de langue":"Language Variant",mainChars:t==="de"?"Hauptfiguren":t==="fr"?"Personnages principaux":"Main characters",supportingChars:t==="de"?"Nebenfiguren":t==="fr"?"Personnages secondaires":"Also in story",level:t==="de"?"Lesestufe":t==="fr"?"Niveau":"Level",pagesLabel:t==="de"?"Seiten":"Pages",lengthLabel:t==="de"?"Länge":t==="fr"?"Longueur":"Length",locationLabel:t==="de"?"Ort":t==="fr"?"Lieu":"Location",seasonLabel:t==="de"?"Jahreszeit":t==="fr"?"Saison":"Season",chooseIdea:t==="de"?"Wählen Sie eine Idee oder bearbeiten Sie sie:":t==="fr"?"Choisissez une idée ou modifiez-la:":"Choose an idea or edit it:",useThis:t==="de"?"Diese verwenden":t==="fr"?"Utiliser celle-ci":"Use this",option1:"Option 1",option2:"Option 2",selected:t==="de"?"Ausgewählt":t==="fr"?"Sélectionné":"Selected",customTheme:t==="de"?"Eigenes Thema":t==="fr"?"Thème personnalisé":"Custom Theme",customThemePlaceholder:t==="de"?"Beschreibe dein Abenteuer-Thema...":t==="fr"?"Décris ton thème...":"Describe your adventure theme...",useMyTheme:t==="de"?"Mein Thema direkt verwenden":t==="fr"?"Utiliser mon thème directement":"Use my theme directly"};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(be,{size:24})," ",a.title]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-4 gap-y-2 text-sm bg-gray-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-1 group",children:[e.jsxs("span",{className:"text-gray-500 whitespace-nowrap",children:[a.storyType,":"]}),e.jsx("span",{className:"font-medium truncate",children:u==="adventure"?q():e.jsxs(e.Fragment,{children:[se(),g&&g!=="realistic"&&` + ${q()}`]})}),e.jsx("button",{onClick:()=>o(3),className:"p-0.5 text-gray-400 hover:text-indigo-600 flex-shrink-0 md:opacity-0 md:group-hover:opacity-100",title:t==="de"?"Bearbeiten":"Edit",children:e.jsx(d,{size:10})})]}),e.jsxs("div",{className:"flex items-center gap-1 group",children:[e.jsxs("span",{className:"text-gray-500 whitespace-nowrap",children:[a.mainChars,":"]}),e.jsx("span",{className:"font-medium text-indigo-700 truncate",children:ee()||"-"}),e.jsx("button",{onClick:()=>o(1),className:"p-0.5 text-gray-400 hover:text-indigo-600 flex-shrink-0 md:opacity-0 md:group-hover:opacity-100",title:t==="de"?"Bearbeiten":"Edit",children:e.jsx(d,{size:10})})]}),e.jsxs("div",{className:"flex items-center gap-1 group",children:[e.jsxs("span",{className:"text-gray-500 whitespace-nowrap",children:[a.supportingChars,":"]}),e.jsx("span",{className:"font-medium text-gray-700 truncate",children:te()||"-"}),e.jsx("button",{onClick:()=>o(1),className:"p-0.5 text-gray-400 hover:text-indigo-600 flex-shrink-0 md:opacity-0 md:group-hover:opacity-100",title:t==="de"?"Bearbeiten":"Edit",children:e.jsx(d,{size:10})})]}),e.jsxs("div",{className:"flex items-center gap-1 group",children:[e.jsxs("span",{className:"text-gray-500 whitespace-nowrap",children:[a.languageLabel,":"]}),e.jsx("span",{className:"font-medium truncate",children:re()}),e.jsx("button",{onClick:()=>o(2),className:"p-0.5 text-gray-400 hover:text-indigo-600 flex-shrink-0 md:opacity-0 md:group-hover:opacity-100",title:t==="de"?"Bearbeiten":"Edit",children:e.jsx(d,{size:10})})]}),u!=="historical"&&e.jsxs("div",{className:"flex items-center gap-1 group",children:[e.jsxs("span",{className:"text-gray-500 whitespace-nowrap",children:[a.locationLabel,":"]}),e.jsx("span",{className:"font-medium truncate",children:le()}),e.jsx("button",{onClick:()=>o(2),className:"p-0.5 text-gray-400 hover:text-indigo-600 flex-shrink-0 md:opacity-0 md:group-hover:opacity-100",title:t==="de"?"Bearbeiten":"Edit",children:e.jsx(d,{size:10})})]}),u!=="historical"&&e.jsxs("div",{className:"flex items-center gap-1 group",children:[e.jsxs("span",{className:"text-gray-500 whitespace-nowrap",children:[a.seasonLabel,":"]}),e.jsx("span",{className:"font-medium truncate",children:ne()}),e.jsx("button",{onClick:()=>o(2),className:"p-0.5 text-gray-400 hover:text-indigo-600 flex-shrink-0 md:opacity-0 md:group-hover:opacity-100",title:t==="de"?"Bearbeiten":"Edit",children:e.jsx(d,{size:10})})]}),e.jsxs("div",{className:"flex items-center gap-1 group",children:[e.jsxs("span",{className:"text-gray-500 whitespace-nowrap",children:[a.level,":"]}),e.jsx("span",{className:"font-medium truncate",children:ie()}),e.jsx("button",{onClick:()=>o(2),className:"p-0.5 text-gray-400 hover:text-indigo-600 flex-shrink-0 md:opacity-0 md:group-hover:opacity-100",title:t==="de"?"Bearbeiten":"Edit",children:e.jsx(d,{size:10})})]}),e.jsxs("div",{className:"flex items-center gap-1 group",children:[e.jsxs("span",{className:"text-gray-500 whitespace-nowrap",children:[a.lengthLabel,":"]}),e.jsxs("span",{className:"font-medium truncate",children:[V," ",a.pagesLabel]}),e.jsx("button",{onClick:()=>o(2),className:"p-0.5 text-gray-400 hover:text-indigo-600 flex-shrink-0 md:opacity-0 md:group-hover:opacity-100",title:t==="de"?"Bearbeiten":"Edit",children:e.jsx(d,{size:10})})]}),e.jsxs("div",{className:"flex items-center gap-1 group",children:[e.jsxs("span",{className:"text-gray-500 whitespace-nowrap",children:[a.artStyleLabel,":"]}),e.jsx("span",{className:"font-medium truncate",children:ae()}),e.jsx("button",{onClick:()=>o(4),className:"p-0.5 text-gray-400 hover:text-indigo-600 flex-shrink-0 md:opacity-0 md:group-hover:opacity-100",title:t==="de"?"Bearbeiten":"Edit",children:e.jsx(d,{size:10})})]})]}),g==="custom"&&e.jsxs("div",{className:"bg-indigo-50 border-2 border-indigo-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"text-lg font-semibold text-indigo-800 flex items-center gap-2",children:["✨ ",a.customTheme]}),e.jsxs("button",{onClick:()=>{h.trim()&&(w(h),k==null||k())},disabled:!h.trim(),className:"flex items-center gap-1 px-3 py-1.5 bg-indigo-600 text-white text-sm rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[e.jsx(A,{size:14}),a.useMyTheme]})]}),e.jsx("textarea",{value:h,onChange:s=>p==null?void 0:p(s.target.value),placeholder:a.customThemePlaceholder,className:"w-full px-3 py-2 border-2 border-indigo-300 rounded-lg focus:border-indigo-500 focus:outline-none text-base bg-white",rows:3}),e.jsx("p",{className:"text-xs text-indigo-600 mt-1",children:t==="de"?"Dieses Thema wird für die Ideengenerierung verwendet. Du kannst es auch direkt als Handlung verwenden.":t==="fr"?"Ce thème sera utilisé pour la génération d'idées. Tu peux aussi l'utiliser directement comme intrigue.":"This theme will be used for idea generation. You can also use it directly as your plot."})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("label",{className:"text-xl font-semibold",children:[a.storyDetails," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("button",{onClick:K,disabled:F,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:F?e.jsxs(e.Fragment,{children:[e.jsx(me,{size:18,className:"animate-spin"}),a.generating]}):e.jsxs(e.Fragment,{children:[e.jsx(fe,{size:18}),a.generateIdeas]})})]}),H&&v&&e.jsxs("div",{className:"space-y-2 mt-2 text-left",children:[e.jsxs("details",{children:[e.jsxs("summary",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-700",children:["Show idea generator prompt (",v.model,")"]}),e.jsx("pre",{className:"mt-1 p-2 rounded text-[9px] whitespace-pre-wrap overflow-auto max-h-64 border bg-gray-100 border-gray-200",children:v.prompt})]}),$&&e.jsxs("details",{children:[e.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-700",children:"Show full LLM response"}),e.jsx("pre",{className:"mt-1 p-2 rounded text-[9px] whitespace-pre-wrap overflow-auto max-h-64 border bg-blue-50 border-blue-200",children:$})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:a.chooseIdea}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[0,1].map(s=>{const r=L[s]||"",l=!!r,i=(s===0?_:Q)&&!l,m=Z===s,oe=s===0?a.option1:a.option2;return e.jsxs("div",{className:`flex flex-col rounded-xl overflow-hidden transition-all ${i?"ring-1 ring-gray-200 opacity-75":m?"ring-4 ring-green-500 shadow-lg shadow-green-100":"ring-1 ring-gray-200 hover:ring-2 hover:ring-indigo-300"}`,children:[e.jsxs("div",{className:`px-4 py-2 font-semibold flex items-center justify-between ${i?"bg-gray-100 text-gray-500":m?"bg-green-500 text-white":"bg-gray-100 text-gray-700"}`,children:[e.jsx("span",{children:oe}),m&&!i&&e.jsxs("span",{className:"flex items-center gap-1 text-sm",children:[e.jsx(A,{size:16}),a.selected]})]}),i?e.jsx("div",{className:"flex items-center justify-center h-64 bg-gray-50 px-8",children:e.jsxs("div",{className:"text-center text-gray-500 w-full max-w-xs",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"h-2.5 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-indigo-600 rounded-full transition-all duration-300 ease-out",style:{width:`${s===0?y:j}%`}})}),e.jsxs("div",{className:"text-xs text-gray-400 text-right mt-1",children:[s===0?y:j,"%"]})]}),e.jsx("p",{className:"text-sm",children:(s===0?y:j)<80?n==="de"?"Denke nach...":n==="fr"?"Réflexion...":"Thinking...":n==="de"?"Schreibe Idee...":n==="fr"?"Rédaction...":"Writing idea..."})]})}):l?e.jsxs(e.Fragment,{children:[e.jsx("textarea",{value:r,onChange:G=>{const M=[...L];M[s]=G.target.value,C(M),m&&w(G.target.value)},className:`w-full px-4 py-3 border-0 focus:outline-none focus:ring-0 text-base resize-none ${m?"bg-green-50":"bg-white"}`,rows:10}),e.jsxs("button",{onClick:()=>X(s),className:`flex items-center justify-center gap-2 px-4 py-3 font-semibold transition-all ${m?"bg-green-600 text-white cursor-default":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:[e.jsx(A,{size:18}),m?a.selected:a.useThis]})]}):e.jsx("div",{className:"flex items-center justify-center h-64 bg-gray-50 text-gray-400",children:e.jsx("p",{className:"text-sm",children:n==="de"?'Klicke auf "Vorschlag generieren"':n==="fr"?'Cliquez sur "Générer"':'Click "Generate Suggestion"'})})]},s)})})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xl font-semibold mb-3",children:[a.dedication," ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:a.optional})]}),e.jsx("textarea",{value:Y,onChange:s=>J(s.target.value),placeholder:a.dedicationPlaceholder,className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:border-indigo-600 focus:outline-none text-base",rows:2,maxLength:200}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:a.dedicationHelp})]}),H&&e.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-4",children:[e.jsx("h3",{className:"text-base font-bold text-gray-800 mb-3 flex items-center gap-2",children:t==="de"?"Entwickler-Optionen":t==="fr"?"Options développeur":"Developer Options"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:t==="de"?"Bildgenerierungsmodus":t==="fr"?"Mode de génération d'images":"Image Generation Mode"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>z(null),className:`px-3 py-2 rounded-lg text-sm font-medium ${S===null?"bg-yellow-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:t==="de"?"Server-Standard":t==="fr"?"Par défaut serveur":"Server Default"}),e.jsx("button",{onClick:()=>z("parallel"),className:`px-3 py-2 rounded-lg text-sm font-medium ${S==="parallel"?"bg-yellow-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:t==="de"?"Parallel (schnell)":t==="fr"?"Parallèle (rapide)":"Parallel (fast)"}),e.jsx("button",{onClick:()=>z("sequential"),className:`px-3 py-2 rounded-lg text-sm font-medium ${S==="sequential"?"bg-yellow-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:t==="de"?"Sequenziell (konsistent)":t==="fr"?"Séquentiel (cohérent)":"Sequential (consistent)"})]})]}),T&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Generation Pipeline"}),e.jsxs("select",{value:U,onChange:s=>T(s.target.value),className:"w-full px-3 py-2 border-2 border-yellow-400 rounded-lg focus:border-yellow-600 focus:outline-none text-sm font-medium bg-white",children:[e.jsx("option",{value:"auto",children:"Auto (based on reading level)"}),e.jsx("option",{value:"pictureBook",children:"Single Prompt (Picture Book)"}),e.jsx("option",{value:"outlineAndText",children:"Outline + Text (Standard)"})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Auto: 1st-grade uses single prompt, standard/advanced use outline+text."})]})]})]})}export{We as WizardStep6Summary};
