import{c as y,i as K,T as J,C as $,I as W,j as e,X as F,u as k,a as z,e as X,L as V,s as Y,h as Q}from"./index-CgIk-pg2.js";import{b as h,u as O,c as _}from"./vendor-react-CqfXSjHo.js";import{B as A,I as M,C as G,U as ee}from"./Input-CBes5nv8.js";import{S as T}from"./sparkles-D55EI_mg.js";import{B as se}from"./book-open-C2d0RsJf.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=y("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=y("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=y("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=y("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=y("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=y("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=y("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),le={info:{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:W},success:{bg:"bg-green-50 border-green-200",text:"text-green-800",icon:$},warning:{bg:"bg-yellow-50 border-yellow-200",text:"text-yellow-800",icon:J},error:{bg:"bg-red-50 border-red-200",text:"text-red-800",icon:K}};function oe({children:o,variant:d="info",title:r,onClose:x,className:a=""}){const s=le[d],u=s.icon;return e.jsxs("div",{className:`
        flex gap-3 p-4 rounded-lg border
        ${s.bg} ${s.text}
        ${a}
      `,role:"alert",children:[e.jsx(u,{className:"shrink-0 mt-0.5",size:20}),e.jsxs("div",{className:"flex-1",children:[r&&e.jsx("p",{className:"font-semibold mb-1",children:r}),e.jsx("div",{className:"text-sm",children:o})]}),x&&e.jsx("button",{onClick:x,className:"shrink-0 p-1 rounded hover:bg-black/10 transition-colors","aria-label":"Dismiss",children:e.jsx(F,{size:16})})]})}const I={en:{title:"Change Password",description:"Enter your current password and choose a new one.",currentPassword:"Current password",newPassword:"New password",confirmPassword:"Confirm new password",changePassword:"Change Password",passwordsMatch:"Passwords must match",passwordTooShort:"Password must be at least 6 characters",success:"Password changed successfully!",successDesc:"Your password has been updated.",close:"Close"},de:{title:"Passwort √§ndern",description:"Geben Sie Ihr aktuelles Passwort ein und w√§hlen Sie ein neues.",currentPassword:"Aktuelles Passwort",newPassword:"Neues Passwort",confirmPassword:"Neues Passwort best√§tigen",changePassword:"Passwort √§ndern",passwordsMatch:"Passw√∂rter m√ºssen √ºbereinstimmen",passwordTooShort:"Passwort muss mindestens 6 Zeichen lang sein",success:"Passwort erfolgreich ge√§ndert!",successDesc:"Ihr Passwort wurde aktualisiert.",close:"Schliessen"},fr:{title:"Changer le mot de passe",description:"Entrez votre mot de passe actuel et choisissez-en un nouveau.",currentPassword:"Mot de passe actuel",newPassword:"Nouveau mot de passe",confirmPassword:"Confirmer le nouveau mot de passe",changePassword:"Changer le mot de passe",passwordsMatch:"Les mots de passe doivent correspondre",passwordTooShort:"Le mot de passe doit contenir au moins 6 caracteres",success:"Mot de passe change avec succes!",successDesc:"Votre mot de passe a ete mis a jour.",close:"Fermer"}};function de({isOpen:o,onClose:d}){const{language:r}=k(),{changePassword:x}=z(),a=I[r]||I.en,[s,u]=h.useState(""),[i,n]=h.useState(""),[w,c]=h.useState(""),[g,b]=h.useState(!1),[j,t]=h.useState(""),[l,m]=h.useState(!1);if(!o)return null;const P=async f=>{if(f.preventDefault(),t(""),i.length<6){t(a.passwordTooShort);return}if(i!==w){t(a.passwordsMatch);return}b(!0);try{await x(s,i),m(!0)}catch(C){t(C instanceof Error?C.message:"Failed to change password")}finally{b(!1)}},N=()=>{u(""),n(""),c(""),t(""),m(!1),d()};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-8 animate-fade-in relative",children:[e.jsx("button",{onClick:N,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Close",children:e.jsx(F,{size:20})}),l?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx($,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:a.success}),e.jsx("p",{className:"text-gray-500 mb-6",children:a.successDesc}),e.jsx(A,{onClick:N,variant:"primary",className:"w-full",children:a.close})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(U,{className:"w-8 h-8 text-indigo-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:a.title}),e.jsx("p",{className:"text-gray-500",children:a.description})]}),j&&e.jsx(oe,{variant:"error",className:"mb-4",children:j}),e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsx(M,{type:"password",label:a.currentPassword,value:s,onChange:f=>u(f.target.value),placeholder:"********",required:!0,disabled:g}),e.jsx(M,{type:"password",label:a.newPassword,value:i,onChange:f=>n(f.target.value),placeholder:"********",required:!0,disabled:g}),e.jsx(M,{type:"password",label:a.confirmPassword,value:w,onChange:f=>c(f.target.value),placeholder:"********",required:!0,disabled:g}),e.jsx(A,{type:"submit",variant:"primary",loading:g,className:"w-full",children:a.changePassword})]})]})]})})}function ce({isOpen:o,onClose:d}){const{language:r}=k(),{showError:x}=X(),[a,s]=h.useState(!1);if(!o)return null;const u=async()=>{s(!0);try{const{url:n}=await Y.createCreditsCheckout(100,500);n&&(window.location.href=n)}catch(n){console.error("Failed to create checkout:",n),x(r==="de"?"Fehler beim Erstellen der Zahlung. Bitte versuchen Sie es erneut.":r==="fr"?"Erreur lors de la cr√©ation du paiement. Veuillez r√©essayer.":"Failed to create payment. Please try again."),s(!1)}},i={title:r==="de"?"Credits kaufen":r==="fr"?"Acheter des credits":"Buy Credits",credits:r==="de"?"Credits":"credits",description:r==="de"?"100 Credits reichen fuer etwa 3-4 Geschichten":r==="fr"?"100 credits suffisent pour environ 3-4 histoires":"100 credits are enough for about 3-4 stories",securePayment:r==="de"?"Sichere Zahlung mit Stripe":r==="fr"?"Paiement securise avec Stripe":"Secure payment with Stripe",cancel:r==="de"?"Abbrechen":r==="fr"?"Annuler":"Cancel",buyNow:r==="de"?"Jetzt kaufen":r==="fr"?"Acheter maintenant":"Buy Now",loading:r==="de"?"Wird geladen...":r==="fr"?"Chargement...":"Loading..."};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>!a&&d(),children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4 shadow-xl",onClick:n=>n.stopPropagation(),children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:i.title}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-6 mb-6 border-2 border-indigo-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"text-indigo-600",size:24}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"100"}),e.jsx("span",{className:"text-gray-600",children:i.credits})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"text-3xl font-bold text-indigo-600",children:"CHF 5.-"})})]}),e.jsx("p",{className:"text-sm text-gray-500",children:i.description})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-4 text-center",children:i.securePayment}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:d,disabled:a,className:"flex-1 bg-gray-200 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-300 font-semibold disabled:opacity-50",children:i.cancel}),e.jsx("button",{onClick:u,disabled:a,className:"flex-1 bg-indigo-600 text-white py-3 px-4 rounded-lg hover:bg-indigo-700 font-semibold disabled:opacity-50 flex items-center justify-center gap-2",children:a?e.jsxs(e.Fragment,{children:[e.jsx(V,{size:18,className:"animate-spin"}),i.loading]}):i.buyNow})]})]})})}function xe({onClose:o,onShowCreditsModal:d,onShowChangePasswordModal:r}){const x=O(),{t:a,language:s,setLanguage:u}=k(),{isAuthenticated:i,user:n,logout:w,isImpersonating:c}=z(),g=(n==null?void 0:n.credits)??0,b=(n==null?void 0:n.credits)===-1||c,j=()=>{w(),o(),x("/")},t=m=>{x(m),o()},l={language:s==="de"?"Sprache":s==="fr"?"Langue":"Language",credits:s==="de"?"Credits":s==="fr"?"cr√©dits":"credits",createNewStory:s==="de"?"Neue Geschichte":s==="fr"?"Nouvelle histoire":"Create New Story",myStories:s==="de"?"Meine Geschichten":s==="fr"?"Mes histoires":"My Stories",myOrders:s==="de"?"Meine Bestellungen":s==="fr"?"Mes commandes":"My Orders",buyCredits:s==="de"?"Credits kaufen":s==="fr"?"Acheter des cr√©dits":"Buy Credits",adminPanel:s==="de"?"Admin Panel":s==="fr"?"Panneau Admin":"Admin Panel",manageUsers:s==="de"?"Benutzer verwalten":s==="fr"?"G√©rer les utilisateurs":"Manage Users",changePassword:s==="de"?"Passwort √§ndern":s==="fr"?"Changer le mot de passe":"Change Password",legal:s==="de"?"Rechtliches":s==="fr"?"Mentions l√©gales":"Legal",terms:s==="de"?"AGB":s==="fr"?"CGU":"Terms",privacy:s==="de"?"Datenschutz":s==="fr"?"Confidentialit√©":"Privacy"};return e.jsxs("div",{className:"absolute right-0 mt-2 bg-gray-800 rounded-lg shadow-lg overflow-hidden z-50 min-w-[200px]",children:[i&&n&&e.jsxs("div",{className:"border-b border-gray-700 px-4 py-3 bg-gray-900",children:[e.jsxs("div",{className:"text-white font-semibold text-sm mb-1",children:[n.username," ",n.role==="admin"&&"üëë"]}),e.jsxs("div",{className:`text-xs px-2 py-1 rounded inline-block ${b?"bg-purple-600 text-white":g===0?"bg-red-600 text-white":g<50?"bg-yellow-600 text-white":"bg-green-600 text-white"}`,children:[b?"‚àû":g," ",l.credits]})]}),e.jsxs("div",{className:"border-b border-gray-700 px-4 py-2",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-2",children:l.language}),e.jsx("div",{className:"flex gap-2",children:["en","de","fr"].map(m=>e.jsx("button",{onClick:()=>{u(m),o()},className:`flex-1 px-3 py-2 rounded text-xs font-semibold ${s===m?"bg-indigo-600 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:m.toUpperCase()},m))})]}),i&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>t("/create?new=true"),className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2 border-b border-gray-700",children:[e.jsx(T,{size:16}),e.jsx("span",{children:l.createNewStory})]}),e.jsxs("button",{onClick:()=>t("/stories"),className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2 border-b border-gray-700",children:[e.jsx(se,{size:16}),e.jsx("span",{children:l.myStories})]}),e.jsxs("button",{onClick:()=>t("/orders"),className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2 border-b border-gray-700",children:[e.jsx(ae,{size:16}),e.jsx("span",{children:l.myOrders})]}),e.jsxs("button",{onClick:()=>{d(),o()},className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2 border-b border-gray-700",children:[e.jsx(G,{size:16}),e.jsx("span",{children:l.buyCredits})]}),((n==null?void 0:n.role)==="admin"||c)&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>t("/admin"),className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2 border-b border-gray-700",children:[e.jsx(ie,{size:16}),e.jsx("span",{children:l.adminPanel})]}),e.jsxs("button",{onClick:()=>t("/admin?tab=users"),className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2 border-b border-gray-700",children:[e.jsx(ee,{size:16}),e.jsx("span",{children:l.manageUsers})]})]}),e.jsxs("button",{onClick:()=>{r(),o()},className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2 border-b border-gray-700",children:[e.jsx(U,{size:16}),e.jsx("span",{children:l.changePassword})]}),e.jsxs("button",{onClick:j,className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2",children:[e.jsx(B,{size:16}),e.jsx("span",{children:a.logout})]})]}),!i&&e.jsxs("button",{onClick:()=>t("/?login=true"),className:"w-full text-left px-4 py-3 hover:bg-gray-700 text-white flex items-center gap-2 border-b border-gray-700",children:[e.jsx(B,{size:16}),e.jsx("span",{children:a.login})]}),e.jsxs("div",{className:"border-t border-gray-700 px-4 py-2",children:[e.jsxs("div",{className:"text-xs text-gray-400 mb-2 flex items-center gap-1",children:[e.jsx(ne,{size:12}),l.legal]}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[e.jsx("button",{onClick:()=>t("/terms"),className:"text-gray-400 hover:text-white",children:l.terms}),e.jsx("span",{className:"text-gray-600",children:"‚Ä¢"}),e.jsx("button",{onClick:()=>t("/privacy"),className:"text-gray-400 hover:text-white",children:l.privacy}),e.jsx("span",{className:"text-gray-600",children:"‚Ä¢"}),e.jsx("button",{onClick:()=>t("/impressum"),className:"text-gray-400 hover:text-white",children:"Impressum"})]})]})]})}const E={en:{1:"Characters",2:"Book",3:"Story",4:"Style",5:"Summary"},de:{1:"Figuren",2:"Buch",3:"Story",4:"Stil",5:"√úbersicht"},fr:{1:"Personnages",2:"Livre",3:"Histoire",4:"Style",5:"R√©sum√©"}};function fe({currentStep:o=0,onStepClick:d,canAccessStep:r,developerMode:x=!1,onDeveloperModeChange:a,hideSteps:s=!1,onShowGenerationProgress:u}){const i=O(),n=_(),{t:w,language:c}=k(),{isAuthenticated:g,user:b,isImpersonating:j}=z(),t=Q(),[l,m]=h.useState(!1),[P,N]=h.useState(!1),[f,C]=h.useState(!1),S=h.useRef(null),R=n.pathname==="/create",D=()=>{t!=null&&t.completedStoryId&&(t.markCompletionViewed(),i(`/create?storyId=${t.completedStoryId}`))},q=()=>{R&&u?u():i("/create")},Z=(t==null?void 0:t.activeJob)&&!(t!=null&&t.isComplete)&&!(t!=null&&t.error);return h.useEffect(()=>{const p=v=>{S.current&&!S.current.contains(v.target)&&m(!1)};return l&&document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[l]),e.jsxs("nav",{className:"bg-black text-white px-3 py-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("button",{onClick:()=>i("/"),className:"text-sm md:text-base font-bold whitespace-nowrap hover:opacity-80",children:["‚ú® ",w.title]})}),!s&&o>0&&d&&r&&e.jsx("div",{className:"flex items-center flex-1 justify-center",children:[1,2,3,4,5].map(p=>{const v=r(p),L=o===p,H=E[c]||E.en;return e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("button",{onClick:()=>v&&d(p),disabled:!v,className:`w-5 h-5 md:w-7 md:h-7 rounded-full flex items-center justify-center text-[10px] md:text-xs font-bold transition-all ${v?L?"bg-indigo-500 text-white ring-2 ring-white scale-110 shadow-lg shadow-indigo-500/50":"bg-indigo-600 text-white hover:bg-indigo-500 cursor-pointer hover:scale-110":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:p}),e.jsx("span",{className:`hidden md:block text-[10px] mt-0.5 transition-all ${L?"text-white font-semibold":"text-gray-400"}`,children:H[p]})]}),p<5&&e.jsx("div",{className:`w-3 md:w-4 h-0.5 self-start mt-2.5 md:mt-3.5 mx-0.5 md:mx-1 ${v?"bg-indigo-500":"bg-gray-600"}`})]},p)})}),e.jsxs("div",{className:"flex items-center gap-3",children:[g&&((b==null?void 0:b.role)==="admin"||j)&&a&&e.jsxs("button",{onClick:()=>a(!x),className:`px-2 py-1 rounded text-xs font-semibold flex items-center gap-1 transition-colors ${x?"bg-yellow-500 text-black":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,title:c==="de"?"Entwicklermodus":c==="fr"?"Mode d√©veloppeur":"Developer Mode",children:[e.jsx(te,{size:14}),e.jsx("span",{className:"hidden md:inline",children:"DEV"})]}),Z&&e.jsxs("button",{onClick:q,className:"bg-indigo-600 text-white px-3 py-1.5 rounded text-xs font-semibold hover:bg-indigo-700 flex items-center gap-2",title:c==="de"?"Geschichte wird erstellt...":c==="fr"?"Cr√©ation en cours...":"Creating story...",children:[e.jsx(V,{size:14,className:"animate-spin"}),e.jsx("span",{className:"hidden md:inline",children:t!=null&&t.progress?`${Math.round(t.progress.current/t.progress.total*100)}%`:"..."})]}),(t==null?void 0:t.hasUnviewedCompletion)&&e.jsxs("button",{onClick:D,className:"bg-green-500 text-white px-3 py-1.5 rounded text-xs font-semibold hover:bg-green-600 flex items-center gap-2 animate-pulse",title:c==="de"?"Geschichte fertig!":c==="fr"?"Histoire termin√©e!":"Story ready!",children:[e.jsx(T,{size:14}),e.jsx("span",{className:"hidden md:inline",children:c==="de"?"Fertig!":c==="fr"?"Termin√©!":"Ready!"})]}),e.jsxs("div",{className:"relative",ref:S,children:[e.jsxs("button",{onClick:()=>m(!l),className:"bg-gray-800 text-white px-3 py-1.5 rounded text-xs font-semibold hover:bg-gray-700 flex items-center gap-2",children:[e.jsx(re,{size:16}),e.jsx("span",{className:"hidden md:inline",children:"Menu"})]}),l&&e.jsx(xe,{onClose:()=>m(!1),onShowCreditsModal:()=>N(!0),onShowChangePasswordModal:()=>C(!0)})]})]})]}),e.jsx(ce,{isOpen:P,onClose:()=>N(!1)}),e.jsx(de,{isOpen:f,onClose:()=>C(!1)})]})}const me=h.forwardRef(({label:o,error:d,helperText:r,className:x="",...a},s)=>e.jsxs("div",{className:"w-full",children:[o&&e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o,a.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("textarea",{ref:s,className:`
            w-full px-4 py-2 rounded-lg border resize-y
            transition-all duration-200
            focus:outline-none focus:ring-2
            ${d?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-purple-500 focus:border-purple-500"}
            disabled:bg-gray-100 disabled:cursor-not-allowed
            ${x}
          `,...a}),d&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d}),r&&!d&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]}));me.displayName="Textarea";export{oe as A,U as K,fe as N,ae as P,ie as S};
